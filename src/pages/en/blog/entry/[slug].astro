---
import type { InferGetStaticPropsType } from "astro";

import BlogSingleEntry from "@components/pages/blog/entry/BlogSingleEntry.astro";
import { getSingleBlogEntryStaticPaths } from "@lib/pagesStaticPathsGenerators";
import { Language } from "@types";
import { extractCoverImageUrl } from "@lib/extractCoverImageUrl";

type Props = InferGetStaticPropsType<typeof getStaticPaths>;

export const getStaticPaths = getSingleBlogEntryStaticPaths(Language.en);

const { title, body, excerpt, coverImage, coverImageWidth, coverImageHeight } =
  Astro.props;

const coverImageUrl = extractCoverImageUrl(coverImage?.[0]?.fields.file?.url);
---

<BlogSingleEntry
  title={title}
  excerpt={excerpt}
  body={body}
  coverImageUrl={coverImageUrl}
  coverImageWidth={coverImageWidth}
  coverImageHeight={coverImageHeight}
/>
